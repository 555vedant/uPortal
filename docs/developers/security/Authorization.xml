<?xml version="1.0"?>

  <!--
  <!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
   "http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd" >
  -->

  <!--
   Author:   Bernie Durfee
   Filename: Authorization.xml
   Creation: 
   Revision: $Revision$ 
   Language: XML 1.0 (DocBook XML DTD v4.1.2)
   Purpose:  Documents the Authorization framework uPortal 2.x
   $Id$
   -->

<article status="draft" class="techreport">
  <articleinfo>
    <author>
      <firstname>Bernie</firstname>
      <surname>Durfee</surname>
      <affiliation>
        <orgname>Interactive Business Solutions</orgname>
      </affiliation>
    </author>

    <author>
      <firstname>Ken</firstname>
      <surname>Weiner</surname>
      <affiliation>
        <orgname>Interactive Business Solutions</orgname>
      </affiliation>
    </author>

     <date>December 4, 2001</date>

     <title>uPortal Role Based Authorization Requirements
     </title>

  <!--
     <revhistory>
        <revision>
           <revnumber>0.1</revnumber>
           <date>December 4, 2001</date>
           <revremark>Baselined</revremark>
        </revision>
     </revhistory>
   -->
  </articleinfo>

  <sect1>
    <title>Introduction</title>
    
    <para>Role based authorization within the uPortal framework is designed to be as generic
     as possible. While supplying roles to the uPortal framework is not necessary, it is very
     valuable that this be done to ensure proper securing of administration functionality. 
     Roles in uPortal are used in two major areas. One area is uPortal administration and the
     other is in the subscription process.
    </para>

  </sect1>


  <sect1>
    <title>Roles in Administration</title>
    
    <para>Below is a list of the major administration tasks within uPortal along with a role
     that the uPortal will recognize as belonging to the person who is authorized to perform
     the task. This list represents the highest level view of administration. Within each of 
     these tasks are n-levels of detail that can be restricted. The initial implementation of
     roles based authorization will use this rough granularity, while subsequent enhancements
     to the roles based authorization system can be made to restrict administration tasks with
     much greater detail.
    </para>

    <sect2>
       <title>Role: ChannelPublisher</title>
       
       <para>Publishing is the process by which channels are added to the portal. Once a channel
        is published users may subscribe to it, thus adding it to their layout. The process of
        publishing requires some advanced knowledge of the portal framework. Thus in most cases
        the ability to publish a new channel to the portal should be given only to users who have
        some special priviledges within the campus community.
       </para>       
    </sect2>

    <sect2>
       <title>Role: ChannelCensor</title>
       
       <para>When a channel is published a record is created in a uPortal table called 
       PORTAL_CHANNELS. One of the fields in this record is named APPROVED. This field is used as
       a control in the publishing process by which a user or set of users can be assigned to the 
       task of approving channels that have been published before it is available for subscription 
       by the general uPortal community. This user will be presented with a list of published 
       channels that have not been approved, once the censor has reviewed the channel they
       can decided whether to approve it and release it to the general uPortal community.
       </para>       
    </sect2>

    <sect2>
       <title>Role: ChannelEditor</title>
       
       <para>When a channel is published there are many properties that will be associated with 
       it. For instance, which roles are allowed to subscribe, how is the channel catagorized and 
       there may also be several channel specific parameters that are specified at publish time. 
       Each of these attributes should be modifiable after the channel has been published. A person
       who has this role will be authorized to edit channel information that will affect all users
       who have subscribed to that particular channel.
       </para>       
    </sect2>

  </sect1>
  
  <sect1>
    <title>Roles in Subscription</title>
    
    <para> When a user publishes a channel to the portal they have the option to restrict access to
    their channel. The access restrictions are specified as roles that may or may not access the
    channel. Before presenting the list of subscribable channels to a user, the channels that the 
    user does not have access to are filtered out. Also, before each channel is rendered on the 
    user's screen, the user's access to that particular channel is checked. If they are not 
    authorized to render that channel, then it will be removed from their layout.
    </para>
    
  </sect1>

  <sect1>
    <title>Role Mapping</title>
    
    <para>There is a mapping that is performed by the portal in order to make the roles based
    authorization system as flexible and non-campus specific as possible. Campus recognized 
    roles are mapped to portal recognized roles In a file called security.properties. For example
    if a particular campus has a role called "sys_admin" which they would like to use to tell the
    portal that a person with this role can publish channels, then there would need to be an entry
    in the security.properties file like...
    
       <informalexample>ChannelPublisher=sys_admin
       </informalexample>
    
    </para>
    
    <para>...also, if there are multiple campus recognized roles that will map to single portal 
    role there would need to be entries like...
        
       <informalexample>ChannelPublisher=sys_admin
       ChannelPublisher=faculty
       </informalexample>
    ...this allows for a point of indirection so that the portal can work within any campus.
    </para>
          
  </sect1>


  <sect1>
    <title>Roles Based Authorization Policy Issues</title>
    
    <para>  There are many policy issues that will come up while determining how the roles based
    authorization system will integrate with existing campus security. The following questions 
    are common issues that need to be determined by individual campuses.
    </para>
    
    <itemizedlist mark="bullet">
       <listitem>
          <para>If a channel is edited, does it need to be re-approved?
          </para>
       </listitem>
       <listitem>
          <para>Can publishers edit channels that they have not published?
          </para>
       </listitem>
       <listitem>
          <para>Should there be different censors for different channel types?
          </para>
       </listitem>
       <listitem>
          <para>Can publishers publish channels to users outside of the publisher's role? 
          </para>
       </listitem>       
    </itemizedlist>
  </sect1>

</article>
