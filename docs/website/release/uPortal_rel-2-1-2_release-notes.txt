uPortal 2.1.2 Distribution
--------------------------

Purpose
-------
This distribution is targeted towards
people who would like to install
uPortal in a development or production 
environment.  It contains uPortal source
code and properties files, but not a servlet
container, directory, or relational database, 
which are required.  Use of this distribution
requires knowledge of J2EE environments and the
Ant tool from the Apache Jakarta project.


Contents
--------
1) uPortal 2.1.2
2) uPortal 2.1.2 java libraries (Xalan, Log4J, etc).
3) uPortal Architecture overview and JavaDoc API
   (see docs directory)


System requirements
-------------------
JDK 1.3 or higher
JAVA_HOME environment variable must be set
Installation of Ant from Jakarta: 
  http://ant.apache.org/


Instructions
------------
Modify build.properties with local settings.

Use the following ant targets:

deploy - installs uPortal into a servlet container
db - prepares a relational database with uPortal schema
     and data
dist - creates JavaDoc, uPortal jar, and uPortal WAR files.

For descriptions of other Ant targets, 
see docs/uPortal_tools_overview.txt.

Make sure the database and servlet container are running and
access uPortal with http://localhost:8080/uPortal
Your URL may be different if you have configured a different port
and/or context name.

You can login to uPortal with the following user name/password 
combinations:

demo, demo
student, student
faculty, faculty
staff, staff
developer, developer

Each user may have a slightly different layout.


Notes 
-----
-Several properties files and database tables have changed
 since uPortal 2.0.x.  If you are upgrading from this version,
 you will need to see to it that your properties files and
 database schema AND data are upgraded appropriately.  
 An upgrade tool is included and can be launched using the 
 following ant command:

 IMPORTANT: First make sure to backup your original database!!!
 
 ant -f convert.xml all

 See the uPortal website to get the latest
 version of the upgrade tool.

-uPortal does not strictly require the use of connection
 pooling, but it is highly recommended for production
 installations.  If your servlet container does not provide
 connection pooling, try something like Poolman.  
 For information about Poolman, see http://www.codestudio.com.

-Bug fixes from 2.0.x releases have been implemented in 2.1.2
 whenever they were appropriate

Please report bugs and suggestions:

 http://mis105.mis.udel.edu/bugzilla/

uPortal website:

 http://www.udel.edu/uPortal


Changes since uPortal 2.1.1
---------------------------
Database:

(No changes)


Properties:

(No changes)


Bug fixes:

-Added XML jars to md5passwd ant target classpath in build.xml.
-Added check for Timestamp milliseconds in RDBMEntityLockStore - bug 1279.
-Add isEditable() method to IIndividualGroupService - bug 1280.
-Replace references to Types.DATE with Types.TIMESTAMP - bug 1288.
-Removed erroneous error message when caching is disabled - bug 1257.
-Parameterized skins path in TabColumnPrefsState so that a subclass can control it - bug 1295.
-Corrected size of channelRuntimeDataInfo object in ChannelRuntimeDataDeserializer.
-Added caching of ChannelDefinition objects which was diappeared between uPortal 2.0 and 2.1.
-Fixed string comparison in RDBMUserIdentityStore - bug 1291.
-Fixed upgrade of UP_PERMISSION table.  Now supports entity types other than 2 or 3 - bug 1304.
-Fixed RemoteUserSecurityContext compatibility with uPortal 2.1 - bug 1293.
-Fixed problem in RDBMUserIdentityStore which produced SQL0206N errors when used with DB2.
-Log message "Channel is being reset" changed from ERROR to DEBUG level in ChannelRenderer.
-Log message "Channel cache key is null" changed from WARN to DEBUG level in ChannelRenderer.
-CWebProxy fixes:
 IPerson attributes are now passed on initial render independant of value of cw_passThrough - bug 1309.
 cw_xsl and cw_xslTitle are now set in setStaticData() - bug 1310
 Space characters are re-encoded before connecting to a URL whose space characters were decoded - bug 1311.
 CWebProxy now correctly handles POST requests when caching is enabled - bug 1312.
-Fixed string comparison in TabColumnPrefsState - bug 1292.
-Fixed problem assigning column widths in User Preferences area - bug 1307.
-Fixed problem in having to add column to new tab twice - bug 1307.
-Fixed SAX callback handler for compositeGroupServices.xml - bug 1314.
-Added try/catch's around calls to IChannel.receiveEvent() calls in ChannelManager - bug 1294.


Other changes:

-Allowed selection of group members from search elements in CGroupsManager without checking permissions
-Changed reference to deprecated Log4J class in groups manager channel Utility.java class.
-Changed default setting of "User can modify" checkbox for height parameter of the InlineFrame channel type.



