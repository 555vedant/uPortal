uPortal 2.0.1 Distribution
------------------------

Purpose
-------
This distribution is targeted towards
people who would like to install
uPortal in a development or production 
environment.  It contains uPortal source
code and properties files, but not a servlet
container, directory, or relational database, 
which are required.  Use of this distribution
requires knowledge of J2EE environments and the
Ant tool from the Apache Jakarta project.


Contents
--------
1) uPortal 2.0.1
2) uPortal 2.0.1 java libraries (Xalan, Log4J, etc).
3) uPortal Architecture overview and JavaDoc API
   (see docs directory)


System requirements
-------------------
JDK 1.3 or higher
JAVA_HOME environment variable must be set
Installation of Ant from Jakarta: 
  http://jakarta.apache.org/ant


Instructions
------------
Modify build.properties with local settings.

Use the following ant targets:

deploy - installs uPortal into a servlet container
db - prepares a relational database with uPortal schema
     and data
dist - creates JavaDoc, uPortal jar, and uPortal WAR files.

For descriptions of other Ant targets, 
see docs/uPortal_tools_overview.txt.

Make sure the database and servlet container are running and
access uPortal with http://localhost:8080/uPortal2
Your URL may be different if you have configured a different port
and or context name.

You can login to uPortal with the following user name/password 
combinations:

demo, demo
student, student
faculty, faculty
staff, staff
developer, developer

The layouts of these 4 users are currently identical.


Notes 
-----
-If upgrading from uPortal 2.0, be sure to:

   * Update the size of GROUP_ID and MEMBER_KEY columns in UP_GROUP_MEMBERSHIP to 240
   * Add "org.jasig.portal.PortalSessionManager.allow_repeated_requests=false" to your old portal.properties

-uPortal does not strictly require the use of connection
pooling, but it is highly recommended for production
installations.  If your servlet container does not provide
connection pooling, try something like Poolman.  
For information about Poolman, see http://www.codestudio.com.


Please report bugs and suggestions:

http://mis105.mis.udel.edu/bugzilla/

uPortal website:

http://www.udel.edu/uPortal


Changes since uPortal 2.0
-------------------------
Database:

-Decreased the size of GROUP_ID and MEMBER_KEY columns in UP_GROUP_MEMBERSHIP to 240 - bug 798.


Properties:

-Added org.jasig.portal.PortalSessionManager.allow_repeated_requests - bug 809


Bug fixes:

-Fixed SQL statement in RDBMUserLayoutStore which was preventing layout from showing up for Oracle users.
-Fixed a problem where workerActionURL did not include a tag id - any parameters passed with the worker request were dropped.
-Prevent null pointer exception on overlapping login submit events - bug 749.
-Allow for security provider that does not have a password - useful for container based security - bug 785.
-Fix bug that allowed a group to be added to itself.
-Removed single quotes from numeric values in 9 SQL statements in RDBMUserLayoutStore - bug 786.
-Fixed link to setting parameters on Channel Admin review screen.
-Reduced hits to database during login - bug 753.
-Fixed bookmarks channel so that it copies bookmarks from the template user - bug 793.
-Fixed bookmarks channel - attribtues were enclosed with single quotes instead of double quotes - bug 819.
-Fixed version attribute and namespace on link in RSS 0.9 stylesheet - bug 761.
-Fixed org.jasig.portal.RDBMUserIdentityStore MySQL compatibility issue - bug 802.
-Fixed incorrect display of the year in the login channel in Netscape 4.x - bug 803.
-Made PortalSessionManager's ALLOW_REPEATED_REQUESTS configurable via portal.properties - bug 809.
-Fixed occurance of multiple entries in UP_USER for the same user when using LDAP for authentication - bug 810.
-Re-enabled the display of the username after a failed login attempt - bug 811.
-Multivalued and unvalued runtime parameters now supported in CWebProxy channel - bug 771.
-Fixed problem in channel manager where changes to parameters were not sticking - bug 724.
-Fixed some buffer output bugs in the rendering process.
-Prevented empty image in RSS channel when there is no image specified - bug 723.


Other changes:

-Added support for idempotent URLs (changes to ChannelRuntimeData and PortalSessionManager).
-Ensured that connections handed out by RDBMServices have autocommit set to true.
-Added support for Opera browsers.
