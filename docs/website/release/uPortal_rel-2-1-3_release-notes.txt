uPortal 2.1.3 Distribution
--------------------------

Purpose
-------
This distribution is targeted towards
people who would like to install
uPortal in a development or production 
environment.  It contains uPortal source
code and properties files, but not a servlet
container, directory, or relational database, 
which are required.  Use of this distribution
requires knowledge of J2EE environments and the
Ant tool from the Apache Jakarta project.


Contents
--------
1) uPortal 2.1.3
2) uPortal 2.1.3 java libraries (Xalan, Log4J, etc).
3) uPortal Architecture overview and JavaDoc API
   (see docs directory)


System requirements
-------------------
JDK 1.3 or higher
JAVA_HOME environment variable must be set
Installation of Ant from Jakarta: 
  http://ant.apache.org/


Instructions
------------
Modify build.properties with local settings.

Use the following ant targets:

deploy - installs uPortal into a servlet container
db - prepares a relational database with uPortal schema and data
dist - creates JavaDoc, uPortal jar, and uPortal WAR files.

For descriptions of other Ant targets, 
see docs/uPortal_tools_overview.txt.

Make sure the database and servlet container are running and
access uPortal with http://localhost:8080/uPortal
Your URL may be different if you have configured a different port
and/or context name.

You can login to uPortal with the following user name/password 
combinations:

demo, demo
student, student
faculty, faculty
staff, staff
developer, developer

Each user may have a slightly different layout.


Notes 
-----
-Several properties files and database tables have changed
 since uPortal 2.0.x.  If you are upgrading from this version,
 you will need to see to it that your properties files and
 database schema AND data are upgraded appropriately.  
 An upgrade tool is included and can be launched using the 
 following ant command:

 IMPORTANT: First make sure to backup your original database!!!
 
 ant -f convert.xml all

 See the uPortal website to get the latest
 version of the upgrade tool.

-uPortal does not strictly require the use of connection
 pooling, but it is highly recommended for production
 installations.  If your servlet container does not provide
 connection pooling, try something like Poolman.  
 For information about Poolman, see http://www.codestudio.com.

-Bug fixes from 2.0.x releases have been implemented in 2.1.3
 whenever they were appropriate

Please report bugs and suggestions:

 http://mis105.mis.udel.edu/bugzilla/

uPortal website:

 http://www.udel.edu/uPortal


Changes since uPortal 2.1.2
---------------------------
Database:

-Removed UPC_GROUP_MGR table which is no longer used.


Properties:

-Added new mapping in dbloader.xml for MySQL 3.23.46 - bug 1281.


Bug fixes:

-Removed caching of updated groups.  They will be re-cached as needed - bug 1318.
-Update all caches in the event either kind of group, locked or unlocked, is updated - bug 1327.
-Added trimming of whitespace from request parameters in CWebProxy.
-Fixed LDAP authentication problem that occured when username was not stored in uid attribute - bug 1328.
-SQL-escaped owner, activity, and target strings in RDBMPermissionImpl - bug 1331.
-Made sure user layouts are only saved when they have been modified - bug 1315.
-Fixed problems with detaching windows - bug 918.
-Cleared out old channel definition parameters from the database when modifying a channel definition - bug 1324.
-Added "UTF-8" parameter to construction of MultipartParser in PortalSessionManager - bug 1317.


Other changes:

-Combined 3 stylesheets for groups manager channel into one: main_html.xsl.
-Updated the URL for downloading Tyrex - bug 1320.
-In CWebProxy, output from JTidy now passed to XSLT as a String instead of Document.
-Deprecated CacheLdapSecurityContextFactory and CacheLdapSecurityContext.



