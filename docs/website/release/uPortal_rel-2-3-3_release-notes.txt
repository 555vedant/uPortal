uPortal 2.3.3 Distribution
--------------------------

Purpose
-------
This distribution is targeted towards
people who would like to install
uPortal in a development or production 
environment.  It contains uPortal source
code and properties files, but not a servlet
container, directory, or relational database, 
which are required.  Use of this distribution
requires knowledge of J2EE environments and the
Ant tool from the Apache Jakarta project.


Contents
--------
1) uPortal 2.3.3
2) uPortal 2.3.3 java libraries (Xalan, Pluto, etc).
3) uPortal Architecture overview and JavaDoc API
   (see docs directory)


System requirements
-------------------
JDK 1.3 or higher
JAVA_HOME environment variable must be set
Installation of Ant from Jakarta: 
  http://ant.apache.org/


Instructions
------------
Modify build.properties with local settings.

Use the following ant targets:

initportal - installs uPortal into a servlet container, 
             prepares a relational database with uPortal schema and data,
	     publishes channels and pushed layout fragments,
             deploys portlet applications
dist - creates JavaDoc, uPortal jar, and uPortal WAR files.

For descriptions of other Ant targets, 
see docs/uPortal_tools_overview.txt.

Make sure the database and servlet container are running and
access uPortal with http://localhost:8080/uPortal
Your URL may be different if you have configured a different port
and/or context name.

You can login to uPortal with the following user name/password 
combinations:

demo, demo
student, student
faculty, faculty
staff, staff
developer, developer

Each user may have a slightly different layout.


Notes 
-----
-Several properties files and one database table changed
 since uPortal 2.2.x.  If you are upgrading from this version,
 you will need to see to it that your properties files and
 database data are upgraded appropriately.  The difficulty
 of upgrading from 2.2.x to 2.3.x is expected to be much lower 
 than similar upgrades in past versions.

-uPortal does not strictly require the use of connection
 pooling, but it is highly recommended for production
 installations.  If your servlet container does not provide
 connection pooling, try something like Yet Another Poolman.  
 For information about Yet Another Poolman, 
 see http://yapoolman.sourceforge.net/.

-Bug fixes from 2.2.x releases have been implemented in 2.3.x
 whenever they were appropriate

-If you experience XML/XSLT-related errors, there is a good
 chance that your environment is not using the version of
 Xalan/Xerces that comes with this release. If you are using
 Tomcat, try copying the following files into Tomcat's
 common/endorsed directory: xalan.jar, xercesImpl.jar, xml-apis.jar.
 Alternatively, you can specify the use of these jar files
 via a java parameter when starting your servlet container:
  -Xbootclasspath/p:xalan.jar;xercesImpl.jar;xml-apis.jar
 For more information, see Version section of
 http://xml.apache.org/xalan-j/faq.html

Please report bugs and suggestions:

 http://www.uportal.org/bugzilla/

uPortal website:

 http://www.uportal.org


Changes since uPortal 2.3.2
---------------------------
Database:

(no changes)


Properties:

(no changes)


Bug fixes:

-Bug 1513, Corrected logic for interpreting JDBC attribute values in PersonDirectory service.
-Bug 1530, Fixed loading of Portlet Registry in JBoss.
-Bug 1548, Added throw of RuntimeException in ChannelDefDtdResolver.resolveEntity() method.
-Bug 1556, Closed resource in finally block in ExternalServices.
-Bug 1574, Logged exception in PersonDirectory.getRestrictedPerson() method.
-Bug 1575, Added multi-valued attribute support to PersonDirPropertyFinder.
-Bug 1577, Changed log level of "missing CAR directory" message from ERROR to INFO.
-Bug 1580, Changed "UNcomment" to "Uncomment" in comments of compositeGroupServices.xml.
-Bug 1581, Enabled SSL connections in LDAPGroupStore.
-Bug 1585, Checked if HTML can be returned to an unknown browser type.
-Bug 1592, Removed excessive files from .cvsignore files to prevent CVS vendor branch merging problems.
-Bug 1593, Fixed PushFragmentLoader's deletion of user-added tabs.
-Bug 1595, Disabled restart persistence of HttpSessions in Tomcat container.
-Bug 1596, Fixed edit of channel definition publised into the root channel category.
-Bug 1599  Reused /dev/null PrintWriter in CWebProxy.
-Bug 1601, Made user info available to Portlets within processPortletAction.
-Bug 1605, Added setter setFullName() method in ChainingSecurityContext.
-Bug 1607, Added ability to upload files to Portlets.
-Escape single quotes in localized strings within org.jasig.portal.utils.XSLT


Other changes:

-Caught Throwable instead of IOException in PropertiesManager.loadProps().
-Prevented NPE while setting up stylesheet parameters in StylesheetUserPreferences.
-Optimized CommonUtils.replaceText() method.

