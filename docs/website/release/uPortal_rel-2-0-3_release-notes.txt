uPortal 2.0.3 Distribution
--------------------------

Purpose
-------
This distribution is targeted towards
people who would like to install
uPortal in a development or production 
environment.  It contains uPortal source
code and properties files, but not a servlet
container, directory, or relational database, 
which are required.  Use of this distribution
requires knowledge of J2EE environments and the
Ant tool from the Apache Jakarta project.


Contents
--------
1) uPortal 2.0.3
2) uPortal 2.0.3 java libraries (Xalan, Log4J, etc).
3) uPortal Architecture overview and JavaDoc API
   (see docs directory)


System requirements
-------------------
JDK 1.3 or higher
JAVA_HOME environment variable must be set
Installation of Ant from Jakarta: 
  http://jakarta.apache.org/ant


Instructions
------------
Modify build.properties with local settings.

Use the following ant targets:

deploy - installs uPortal into a servlet container
db - prepares a relational database with uPortal schema
     and data
dist - creates JavaDoc, uPortal jar, and uPortal WAR files.

For descriptions of other Ant targets, 
see docs/uPortal_tools_overview.txt.

Make sure the database and servlet container are running and
access uPortal with http://localhost:8080/uPortal2
Your URL may be different if you have configured a different port
and or context name.

You can login to uPortal with the following user name/password 
combinations:

demo, demo
student, student
faculty, faculty
staff, staff
developer, developer

Each user may have a slightly different layout.


Notes 
-----
-If upgrading from uPortal 2.0.2, be sure to:

   * Update the value of the SEQUENCE_VALUE column in UP_SEQUENCE from 0 to 10 
     where SEQUENCE_NAME is UP_SS_STRUCT and UP_SS_THEME
   * Add the following line to portal.properties:
     org.jasig.portal.utils.SAX2BufferImpl.copyCharBlock=no

-uPortal does not strictly require the use of connection
pooling, but it is highly recommended for production
installations.  If your servlet container does not provide
connection pooling, try something like Poolman.  
For information about Poolman, see http://www.codestudio.com.


Please report bugs and suggestions:

http://mis105.mis.udel.edu/bugzilla/

uPortal website:

http://www.udel.edu/uPortal


Changes since uPortal 2.0.2
---------------------------
Database:

-Changed values of UP_SEQUENCE.SEQUENCE_VALUE from 0 to 10 for UP_SS_STRUCT and UP_SS_THEME


Properties:

-Added org.jasig.portal.utils.SAX2BufferImpl.copyCharBlock=no to portal.properties


Bug fixes:

-Changed ChannelManager.removeChannel() to pass the UNSUBSCRIBE rather than SESSION_DONE event - bug 1093
-Improved speed of Channel Admin modify channel screen by creating XSLT local variables - bug 1050.
-Fixed concurrent access checks in ReferenceSequenceGenerator.
-Made ResourceLoader parser namespace aware to allow parsing of documents such as rss 1.0/RDF files.
-Fixed URL re-writing bugs in StylesheetUtils and xhtml.xsl - bug 1102 and 1118.
-Footer channel is now called and outputs a "Powered by uPortal" message - bug 794.
-Focusing a channel after minimize now displays channel content - bug 1107.
-Added title attribute to images in nested-tables theme so that "tool tip" text appears in Mozilla - bug 1078.
-Removed focus, minimize/maximize, and detach buttons for detached channels - bug 1080.
-Fixed highlighting of channel when selected in user preferences channel - bug 1095.
-Replaced System.exit() call with throwing of SQLException in RDMBServices - bug 888.
-Prevented multiple instantiations of the JDBC driver - bug 1227.
-Changed all occurances of con.getMetaData().supportsTransactions() to RDBMServices.supportsTransactions - bug 1219.
-Fixed bug in validation of group name in EntityGroupImpl.
-Changed ChainingOpaqueCredentials.credentialstring from protected to public - bug 1225.
-Prevented many 1000s of Integer object instantiations in SAX2BufferImpl - bug 1228.
-Allowed TabColumnPrefsState to be extended and now the skin list can be changed by a subclass - bug 1230.
-Fixed problem with persisting of "User can modify" setting in channel publishing - bug 1218.
-The sqlEscape call is now only done if prepared statements are not supported. - bug 827.
-Fixed empty ResultSet problems in RDBMUserLayoutStore - bug 799.
-Fixed possible memory leak in RDBMPermissionImpl = bug 903.
-Fixed problem where layout not properly built if outer joins not supported - bug 1222.
-Fixed retention of permissions set via the Channel Admin channel.
-Changed  DriverManager.getConnection() method (synchronized) to the unsynchronized Driver.getConnection() - bug 1229.


Other changes:

-Moved setting of headers that disable caching from PortalSessionManager to UserInstance.
-Broke inner class RDBMServices.PerparedStatement into its own class RDBMPreparedStatement.

