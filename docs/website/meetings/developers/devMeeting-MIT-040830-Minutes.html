<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>uPortal Developer's Meeting MIT minutes</title>
</head>
<body>
<table style="width: 600px; text-align: left;" border="0"
 cellpadding="10" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <h2>uPortal Developers' Meeting<br>
MIT August 30-31, 2004</h2>
      <p>&nbsp;<br>
      </p>
Minutes released September 24, 2004<br>
      <br>
      <h4>Attendees</h4>
      <dl>
        <dt>Al Wold <a href="http://www.asu.edu/">Arizona State
University</a><br>
        </dt>
        <dt>Dan Ellentuck <a href="http://www.columbia.edu/">Columbia
University</a><br>
        </dt>
        <dt>John Fereira <a href="http://www.cornell.edu/">Cornell
University</a><br>
        </dt>
        <dt>Michael Oltz Cornell University<br>
        </dt>
        <dt>Jim Thomas <a href="http://www.indiana.edu/">Indiana
University</a><br>
        </dt>
        <dt>Jim Farmer <a href="http://www.immagic.com/">instructional
media + magic, inc.</a> <a href="http://sakaiproject.org/partners.html">Sakai
Educational Partners Program (SEPP)</a><br>
        </dt>
        <dt>Michael Ivanov instructional media + magic, inc.<br>
        </dt>
        <dt>Craig Counterman <a href="http://www.mit.edu/">Massachusetts
Institute of Technology (MIT)</a><br>
        </dt>
        <dt>Michael De Simone <a href="http://www.rsmart.com/">the
r&#8226;smart
group, inc.</a><br>
        </dt>
        <dt>Dmitriy Kopylenko <a href="http://www.rutgers.edu/">Rutgers
University</a><br>
        </dt>
        <dt>Bill Thompson Rutgers University<br>
        </dt>
        <dt>Charles Severance <a href="http://sakaiproject.org/">Sakai
Project</a><br>
        </dt>
        <dt>Mark Norton Sakai Educational Partners Program (SEPP)<br>
        </dt>
        <dt>Casey Dunn <a href="http://www.stanford.edu/">Stanford
University</a><br>
        </dt>
        <dt>Daisy Flemming Stanford University<br>
        </dt>
        <dt>Mark Boyd <a
 href="http://www.sungardsct.com/Education/index.html">SunGard SCT, Inc</a>.<br>
        </dt>
        <dt>Mike Zackrison SunGard SCT, Inc.<br>
        </dt>
        <dt>Nick Bolton <a href="http://www.unicon.net">Unicon, Inc</a>.<br>
        </dt>
        <dt>Eric Dalquist Unicon, Inc.<br>
        </dt>
        <dt>Peter Kharchenko Unicon, Inc.<br>
        </dt>
        <dt>Jason Lacy Unicon, Inc.<br>
        </dt>
        <dt>Ken Weiner Unicon, Inc.<br>
        </dt>
        <dt>David Haines <a href="http://www.umich.edu/">University of
Michigan</a><br>
        </dt>
        <dt>Nick Blair <a href="http://www.wisc.edu/">University of
Wisconsin - Madison</a><br>
        </dt>
        <dt>Curt Ellmann University of Wisconsin - Madison<br>
        </dt>
        <dt>Susan Bramhall <a href="http://www.yale.edu/">Yale
University</a> (monday only)<br>
        </dt>
        <dt>Howard Gilbert Yale University (tuesday only)<br>
        </dt>
        <dt>Andrew Petro Yale University<br>
        </dt>
        <dt><br>
        </dt>
      </dl>
      <h4>MONDAY, August 30<br>
      </h4>
      <p>&nbsp;<br>
      </p>
Ken: we will talk about 2.x a little<br>
but this afternoon we will be talking about what has been done so far
on 3.0<br>
tomorrow discuss what to do
      <p><br>
      </p>
      <p>&nbsp;<br>
      </p>
      <h4><a href="http://sakaiproject.org/">Sakai</a>/Portal
Integration
-- Charles Severance</h4>
How will sakai deal with things that are not uportal? charles was asked
this.<br>
From now on there will be more emphasis on interoperability with sakai
running
on other portals.<br>
&nbsp;<br>
The original plan was to use <a
 href="http://jcp.org/en/jsr/detail?id=168">JSR-168</a> (portlet
specification) and modify uPortal to meet
navigational needs of Sakai; Sakai would have full functionality only
on uPortal. They started down that path and discovered they needed mods
to uPortal
to fulfill
the original vision<br>
      <p>-- dynamic very large layouts<br>
-- layout info from some plug-in sources [a concept similar to
composite group services]<br>
-- a given instance of a portlet needs to know where it is in the
layout hierarchy<br>
-- multilevel hierarchies<br>
-- change what the url's look like -- humanly readable bookmarking of
portlets,
so you can go straight to the portlet you want.<br>
      </p>
      <br>
-- there
is a large need to be able to integrate non-java apps<br>
-- need
for a web-services approach rather than a one-JVM approach<br>
-- Sakai needs to run in other portals<br>
      <br>
Because
of the above, and<br>
--
performance problems<br>
--
multiple webapps<br>
-- the tools team has UI requirements<br>
      <br>
It was
decided that instead of JSR-168, <a
 href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wsrp">WSRP</a>
("Web Services for Remote Portlets") needs more emphasis in the Sakai
code.<br>
      <br>
      <br>
Examples
of the URL convention:<br>
      <br>
/ or
/site -- the whole page<br>
      <p>/site/sp04/eecs/280
the entire page pre-navigated to the EECS280 site<br>
      </p>
      <p>[more
examples in slides; I couldn't type fast enough]<br>
      </p>
&nbsp;<br>
Their new
navigation model is nested rectangles, rather than tabs and columns<br>
These
URL's are either local navigation patterns; or WSRP patterns of what to
go get.<br>
&nbsp;<br>
The WSRP
allows the user to federate many different Sakai sites. (supposing
single-signon issues are resolved). The portal does the WSRP consuming
and
federating; Sakai sites will be producers.<br>
&nbsp;<br>
Sakai
will use the <a href="http://www.okiproject.org/specs/">O.K.I. OSIDs</a>
(api's describing the <i>manner of </i>doing
persisted-info access, etc.) to talk to enterprise information.<br>
&nbsp;<br>
Charles'
main workpoints today are:<br>
&nbsp;<br>
-- Sakai
will be concentrating on WSRP development, let's share experiences<br>
      <p>--
Suggest to uPortal that they use O.K.I. OSIDs for AUTH and [something
else, I
missed it] particularly. Not at all a requirement. Ken pointed out that
if WSRP
is going to be used, then OSIDs should not be needed. It's too 'under
the
hood'; WSRP is supposed to protect uPortal from having to know how to
do those
things -- the OSID kind of stuff should only be used on the producer
side; if
the portal is only a consumer it doesn't belong there.<br>
      </p>
      <br>
One
question is how should this be layered in the software?<br>
&nbsp;<br>
      <br>
Sakai
tools and apps/'magic fairy dust' interfacing
code/Wsrp4j/WSRP-protocol-as-consumer<br>
      <p>Sakai/dust/JSR-168/Wsrp4j/WSRP-protocol-as-consumer<br>
      </p>
      <p>Sakai/dust/JSR-168/uPortal/WSRP-protocol-as-producer/...<br>
      </p>
&nbsp;<br>
The first
one looks like more work for Sakai but in a better position afterwards<br>
      <p>The
second one would make Sakai tools and apps themselves somewhat easier
to
develop but would have to make more mods to other existing code to do
it.<br>
      </p>
      <p>The third
one is a rather unlikely choice<br>
      </p>
      <br>
Dan asked
what is the relationship in terms of making design decisions, between
Sakai and
O.K.I. OSIDs?<br>
&nbsp;<br>
Charles
compared the old <a href="http://chefproject.org/portal">Chef</a>
(earlier U Michigan project) model in comparison
with
OSIDs.<br>
      <p>Chef's
goal is to make the writing of tools as easy as possible; lots of
details are
moved into the services.<br>
      </p>
      <p>In the
OSID world, the goal is to allow a wide variety of implementations of
the
services; this is more sensible when each service is comparatively
small in
power and complexity. [but there are higher level application services
as well]<br>
      </p>
Now,
there is the Sakai API which "looks like OSIDs" at one level, but
there are many, more powerful and more specific services as well.
Eventually
Sakai will write OSIDs on top of itself so tools can call certain
capacities of
Sakai that do OSID-like stuff, so that those parts of Sakai can look
like OSIDs
from that tool's point of view.<br>
&nbsp;<br>
The
original plan was to live in the same JVM with uportal and make the UI
as
flexible and nice as Sakai wants. This proved overly complex to do.<br>
      <p>&nbsp;<br>
      </p>
      <p>Earlier
Charles said that portlets would know about their position in the
hierarchy.<br>
      </p>
      <p>Ken asked
with reference to that: Will the Sakai parts that are WSRP producers
need to
know about their 'portlet location' etc. This would influence how the
consumer
would ask for that producer, and wouldn't the consumer have to know
where it
is? What Charles essentially explained is that the URL of a producer
does look
like it 'knows' where it is physically in the hierarchy, but really
it's just a
long name for the producer, and you just tell the other site what URL
to put
and it just works. [that is, a WSRP producer really isn't 'in' a
layout, so it
doesn't have a 'position'. It just has a 'name' that happens to look
like a subdirectory
path.]<br>
      </p>
&nbsp;<br>
Jim: Are
the various tools in Sakai separately addressable via WSRP?<br>
&nbsp;<br>
Charles:
Does Sakai provide a general purpose chat that the consumer can use as
a
utility any way they want, with the consumer deciding the purpose of
the chat,
etc?. Charles says no; the configuring of the chat will happen at the
producer
side "Here's the chat for U Mich's Chemistry 280 course, do you want to
be
a consumer of it?" i.e. Sakai provides a collection of instanced
portlets.<br>
&nbsp;<br>
Charles
recognizes that the Sakai funding has influenced the direction of
uPortal, but
that the primary purpose of the funding was to help uPortal continue,
and he
feels that this change of direction will make the interaction between
the two
groups easier "We are supporting uPortal in general"<br>
&nbsp;<br>
Charles
wants to do 'http rectangles' (the url stuff) for Sakai 1.0 because
this makes
the iFrames he showed possible. and this will be as it were a reference
implementation. there will be instructions of how to make this work.<br>
&nbsp;<br>
WS-Security
(WSRP security) WSRP4J doesn't say anything about what security model
is used;
it can just pass along an authentication string but has nothing
official to do
with where the string comes from. <br>
&nbsp;<br>
Mike
Zackrison: with the URL hierarchy, how do you deal with cross-listed
courses?
How does the SAME portlet show from two different URL's?<br>
Craig: we (Sakai) will need to have that
somehow but not sure how yet. Daisy: They (Stanford) pick one of the
depts as
the primary course, and that's how you get to the course on the web. <br>
      <br>
      <br>
      <br>
[morning
break was here]<br>
      <p>&nbsp;<br>
      </p>
      <h4>Portlet
development challenges -- Eric Dalquist, Unicon, Inc.</h4>
[bugs and
issues encountered while developing portlets in uPortal]
      <p>File uploading -- uPortal wasn't allowing portal to access
uploaded data<br>
      </p>
      <p>File
downloading -- bug in <a href="http://portals.apache.org/pluto/">Pluto</a>
and Tomcat made the recommended way of sending binary data not work<br>
      </p>
      <p>Portal preferences -- was not allowing prefs on a per portlet
instance basis<br>
      </p>
      <p>Class loader issues -- each portlet has own class loader<br>
      </p>
      <p>Portlet API access -- does not have access to the portal's
libraries or api's<br>
      </p>
      <p>Portlet portability -- needs to be cleaner<br>
      </p>
&nbsp;<br>
File uploading -- (RequestParamWrapper.java) the uPortal was writing
the
data into a
temporary file, so when the portlet looked the input stream was already
gone.
Code changed so if it is a portlet the portal doesn't touch the input.
This fix
implemented in 2.3.3<br>
&nbsp;<br>
File
downloading -- JSR-168 does not provide a specific way to provide
non-markup
output. It does require that a portlet and a servlet executing in the
same
environment share a session, which would be a sneaky way for the
portlet to
pass non-markup output to uPortal. But there is a bug in Pluto and
Tomcat such
that they get different sessions, and it can't work. Several people
suggested
programming solutions. Then it was pointed out that to sneak around
this would
violate the security defined by a servlet. The conclusion was, it's in
Tomcat's
lap for a permanent solution. Temporarily for uPortal: a portlet can
extend its
window state. So they did that ("exclusive window state"), allowing
portlet access to the output so it can set the content type and output
stream.
This is in the MAIN branch, so it would be in 2.4, not 2-3-patches.
Another bug
in Pluto was that it hard codes the setContentType to text/html.<br>
&nbsp;<br>
Portlet
preferences -- the preferences are correctly being read from
portlet.xml and
distributed. The entity preferences were being scoped on a
per-published basis.
All instances of a portlet would have the same preferences, which is
not what
the spec says, but it's kind of muddy; is it per-user, or per-user
per-instance? Eric made it the latter so that each instance can be
different.
He also added a layer of prefs that influences every user in every
instance
"administrative only"; these can override publish parms of a portlet
(the ones that come from the WAR file), which properly cannot be
overridden by
the user. This will also be in 2.4. Entity level preferences can be
changed
programmatically by the portlet; they could be changed by user when
subscribing
as well, BUT the latter is not yet implemented at the framework level
(no UI
changes to support it). There is now a portal preference store class,
and a
uPortal property that determines what kind of backing store is used.<br>
&nbsp;<br>
Class
loader issues -- Each portlet application has its own class loader.
This is
also confusing with respect to static initializers (they get run once
per class
loader). [common/lib and shared/lib are in all class loaders]<br>
&nbsp;<br>
Portal
API access (from a portlet) -- Either put uPortal in one of those two
directories or make a lightweight interface that allows a developer to
at least
compile stuff without having to do the preceding; but then you couldn't
run on
the compiling machine. It was pointed out that using the uPortal API at
all,
impedes portability of the portlet. The servlet spec and portlet spec
are at
odds about this; there needs to be a way around it.<br>
&nbsp;<br>
Someone
pointed out we should have a closer relationship with the standards
committees;
the ongoing problem is lack of funding to let someone do so officially.
However, ken and others at Unicon are posting on a Wiki which the
committees
read, to make recommendations about future changes. Ken: there is very
little
discussion on the Pluto and WSRP mailing lists, except for newbie
questions.
The portlet spec seems to have been created as a lowest common
denominator of
what was observed to be in existing portlets, rather than of what a
portlet
ought to be able to do.<br>
&nbsp;<br>
Charles:
Sun feels that ESB's solve this problem of portable portal
(portlets/channels);
IBM feels their 'concrete portlets' are the solution. This disagreement
is ongoing
and impedes progress on the spec.<br>
&nbsp;<br>
U
Wisconsin has some 'modules' in their portal that give them access to
enterprise info or provide it to remote services.<br>
&nbsp;<br>
Eric:
There is no way in a portlet to get at groups and permissions, for
example.<br>
&nbsp;<br>
Ken: what
are people doing out there? everything seems to be 'hello world'
portlets<br>
      <p>Susan: or
oracle or ibm portlets<br>
      </p>
Charles: Various groups are just ad hoc solving the problem
separately. Somebody gets
together
with their "five closest friends" [with whom they need to have
interoperability of a particular application] and they decide how they
in
particular are going to get around it.<br>
      <br>
Ken:
let's do a get-at-portal-capabilities-from-a-portlet API thing in such
a way that it could be
reimplemented
straightforwardly by any other portal.<br>
&nbsp;<br>
Dan: is
there a relationship between such an idea of a portal API and the
services
package?<br>
      <p>Ken: Yes
some of those services are what we'd want in the API.<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <p>Michael
Ivanov (from instructional media + magic) had something to say in this
session as well.<br>
      </p>
How to
use stylesheets from a portlet. You can't use it in a standard way.
Because the
baseactionURL can't be changed in a stylesheet; this would have to be
done in
Java.<br>
      <p>He
rewrote [x]htmlSerializer.java that allows you to add a new element
inside a
&lt;a href&gt; for example, &lt;param name="" value=""&gt;
this is recognized and accepted by the XSLTSerializer and altered later
on by
XSLT into a real URL.<br>
      </p>
He also
added XSLTPortlet class.<br>
&nbsp;<br>
Other
approaches to solving this problem would be<br>
      <br>
1) Create
the URL's and pass them as parameters to the stylesheets.<br>
2) You
could write an extension to the XSLT engine.<br>
3) Use JSP's or the tagged kind of them.<br>
      <br>
Ken: For those
who are going to write portlets, how many are going to use XSLT and how
many
not? There were several in each group.<br>
      <p>Mark
Boyd: He did some timing tests, and JSP was almost twice as fast as
XSLT.<br>
      </p>
      <p>Someone
else asked; Is anybody outside of Sakai using Java Server Faces? Answer
was,
really not much among those present.<br>
      </p>
      <p>&nbsp;<br>
      </p>
[Lunch
break was here]<br>
      <p>&nbsp;<br>
      </p>
      <h4><a
 href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wsrp">WSRP</a>
--
Ken Weiner and Michael Ivanov</h4>
Ken tried
to get WSRP consumer and producer working for 2.2 but it was really
early after
the
standard was finalized and he wrote it from scratch without any helper
libraries. Now he is trying to
integrate <a href="http://ws.apache.org/wsrp4j/">WSRP4J</a> (Apache
implementation of WSRP). In the MAIN branch (to be 2.4) there is a
consumer based on it,
with
minimal testing. This did not require much effort. There are two
different
consumers provided with WSRP4J; one is a Swing consumer, the other a
'proxy
portlet'. All he had to do was drop that portlet in, and do some
configuration.
He wanted to let people specify the producer for an instance, when they
publish
the channel. This is implemented. This consumer thing is now a channel
type.
The unmodified WAR file is in lib/portlets, and then he has his changes
in
source/org/jasig/portal/wsrp/consumer java files. These overwrite
stuff that
comes from the source tree. but if he had built these into the war file
then
where should the source live? He also had to modify some of the WSRP
base code
also (submitted as bug fix suggestions). He documented these changes in
the
build.xml file.<br>
&nbsp;<br>
Nobody present
seems to have actually tried this in the MAIN branch.<br>
&nbsp;<br>
Both for WSRP4J
directly, and for the way Ken implemented it in uportal 2.2, you have
to configure four different URLs.
Some portals use one URL to identify the producer and its services, but
WSRP4J doesn't support that. Right
now, there
is not authentication, user identity, etc.<br>
&nbsp;<br>
He was
hoping to implement a producer for 2.4 as well, but it looks non
trivial. He
wanted it to sit on top of the IChannel, so it could serve up content
both from
channels and portlets. In one sense, doing this in 2.4 would sort of be
'end of life',
because 3.0
is down the pike, but 2.x will probably last a year or two after 3.0
comes out.
So if anyone wants to go and implement this for 2.x it will not be a
waste of
time.<br>
&nbsp;<br>
Michael
Ivanov tried to implement WSRP in 3.0. It now works with
PortletEntityRegistry.
But that's mostly the only change he made so far. We need to write a
WSRP
'engine' and
'composer'. How can we get at the static and dynamic information from
portlets/channels? They will get back to work on it after certain other
things
are done. We need to create information producers and
WSRPPortletEntity.
Ken
asked isn't WSRP based on the container? Michael said it actually needs
more
information from the portal than from the container. The consumer in
3.0 will
probably also be the 'proxy portlet'.<br>
      <br>
Charles:
compared to splicing in the <a href="http://portals.apache.org/pluto/">Pluto</a>
stuff, is WSRP4J looking harder or
easier to
add in? Ken and Michael: about the same amount of work.<br>
      <br>
Nick Blair: Upcoming <a href="http://www.peoplesoft.com/">PeopleSoft</a>
will have WSRP producers. Next release
will be
read only, one after (Tools X) will be read write.<br>
&nbsp;<br>
Ken: we
need a way to dynamically discover producers, rather than hard coded.
We don't
have a 'producer registry' which WSRP4J requires. In 2.4 he fudged
this, you
specify the producer at publish time.<br>
&nbsp;<br>
Charles:
Are you configuring producers at the producer end or consumer end? Ken
says
there exists a way to configure a producer from the consumer end but it
isn't
implemented yet on uportal.<br>
&nbsp;<br>
&nbsp;<br>
      <br>
      <h4>uPortal
3.0 Code Overview -- Ken Weiner, Mike DeSimone, Michael Ivanov</h4>
      <a href="./Ken_Weiner-Unicon.ppt">Ken's PowerPoint slides</a>
(second slide is the domain object architecture diagram)
      <p> </p>
      <p> </p>
Ken
showed his 'domain object architecture' diagram from February.<br>
&nbsp;<br>
There are
domain objects that lash together different pieces of the portal code.
You get
the information in a domain object by querying a 'registry'. (this is a
bit
like <a href="http://java.sun.com/products/jndi/">JNDI</a> but it
applies to local code, rather than 'wherever it may
be'
stuff). The registries use 'domain object factories' to produce the
domain objects given their related transfer objects. There
will be
caching of registry values.<br>
&nbsp;<br>
There
will be <a
 href="http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html">DAO</a>
(Data Access Object) implementations to get at persistent data, and
'transfer
objects'
which are called to read or write particular data.<br>
&nbsp;<br>
They are
using <a href="http://www.springframework.org/">Spring</a> to organize
the code. The
applicationContext.xml tells how each aspect of the portal is
implemented.<br>
&nbsp;<br>
Among
these are the implementations of the DAO's. each implementation tells
what its
dependencies are.<br>
&nbsp;<br>
As an
aside, all of the implementations are by default singletons, which they
used to
have to do by hand.<br>
&nbsp;<br>
Mike DeSimone -- shows how the DAO's work as an example of this.
      <p><a href="./Mike_DeSimone-RSmart.ppt">His PowerPoint
presentation</a> (some of the notes below are from this)</p>
      <p>Mark
Boyd: What about database sync?<br>
You specify a transaction manager as one of the dependencies of a DAO.<br>
&nbsp;<br>
How did
uportal 2 do it?<br>
-- straight low-level JDBC<br>
-- One service class (RDBMServices)<br>
-- 3 or 4 classes roughly divided into functional areas
(RDBMUserIdentityStore, RDBMUserLayoutStore, etc.)<br>
-- One of those two stores just mentioned, is a rather large chunk of
code<br>
      <br>
      <br>
issues<br>
      <br>
-- ResultSets were left open<br>
-- abandoned connections<br>
-- missing keys/inidices in generated DDL (xsl fix)<br>
-- performance issues<br>
&nbsp;<br>
Separate the business logic from the data access<br>
&nbsp;<br>
Alternatives which were looked at:<br>
-- Object relationship managers: <a
 href="http://jcp.org/en/jsr/detail?id=12">JDO</a>,
Hibernate<br>
-- iBatis SqlMaps<br>
-- Spring JDBC support<br>
&nbsp;<br>
      <a href="http://sourceforge.net/projects/ibatisdb">iBatis SqlMaps</a><br>
-- has a somewhat simpler xml configuration but still not trivial<br>
-- geared toward persisting objects that have basic types, rather than
more
complex objects<br>
-- stability and longevity were unknowns<br>
&nbsp;<br>
      <a href="http://www.hibernate.org/">Hibernate</a><br>
-- requires many fewer lines of java code<br>
-- provides caching of objects and lazy-initialization<br>
-- requires extensive and complex XML configuration<br>
-- understands many major DBMS sql dialects<br>
-- has a hefty learning curve for effective use<br>
      </p>
      <p>Daisy: error messages were difficult, and found it hard to
retrofit an
existing db but much better when starting from scratch.<br>
      </p>
&nbsp;<br>
      <a href="http://www.springframework.org/docs/reference/jdbc.html">Spring
JDBC support</a><br>
-- the programming style is pretty close to vanilla JDBC<br>
-- requires a lot of Java code to implement persistence, but not as
much XML config<br>
-- does not have caching support<br>
      <br>
      <br>
Factors in choosing a "winner"<br>
-- nobody's a "luser"<br>
-- easier than JDBC?<br>
-- maturity, stability<br>
-- community vibrancy/activity<br>
-- minimize barriers to future contributors<br>
      <br>
Spring JDBC support<br>
-- a package that allows DB in an object oriented dmanner<br>
-- execute queries and get a list of results back<br>
&nbsp;<br>
What you need to do to use this:<br>
-- extend mappingsqlquery for selects<br>
-- extend sqlupdate for insert, update<br>
-- implement mapRow to map relational data to Java objects<br>
-- inject the data source<br>
-- transaction support is transparent to code<br>
&nbsp;<br>
Dan: Do you have any idea what the performance penalty is on these
things?<br>
Michael DeSimone: I can't quantify it, but i would think not much.<br>
Ken: Spring JDBC doesn't really change what JDBC does, it just
organizes <i>how
you write</i> the JDBC code.<br>
&nbsp;<br>
Ken: Re Spring -- I think this is a better match for the existing skill
sets of
our current user community, you can actually see the exact SQL
statements
in the code.<br>
&nbsp;<br>
[Daisy advocates Hibernate]<br>
      <br>
Ken: Often the person who is willing to do the work is the one who
makes the
decision, and Mike [DeSimone] was willing. But I support the decision
based on what i said
earlier. If you think hibernate is better, you are welcome to write it
and check it in in parallel to the Spring one.<br>
&nbsp;<br>
Charles: His view of the difference between Spring and Hibernate is
that
Hibernate gets a lot of data and does the parsing locally, whereas
Spring only
requests the columns you want. <br>
&nbsp;<br>
Ken:
Where is the new stuff in the code? org.jasig.portal.dao.spring has the
code Mike De Simone was just discussing. some DAO's just read from a
config xml file, so
they are read-only. Ken showed an example of a database DAO, and of one
that
reads from an XML file. As was said before, keep all business logic out
of the DAO
layer.<br>
      <p>Also look at org.jasig.portlet.deployment<br>
      </p>
      <p>&nbsp;<br>
      </p>
[afternoon
break happened here]<br>
      <p>&nbsp;<br>
      </p>
      <h4>Relationship between the various levels of portlet classes in
the specification --
Ken Weiner</h4>
      <a href="./Ken_Weiner-Unicon.ppt">Ken's PowerPoint slides</a>
(first slide is a list of the levels explained here)
      <p>At each
level there is a "Something" class and an "ApplicationSomething" class;
we didn't make this distinction (about our channels) in the
portal before.<br>
      </p>
      <p>A portlet <span style="font-style: italic;">application</span>
is possibly
more than one portlet sharing a context,
generally
delivered in a single war file. So for deployment, you could query a
PortletApplicationDeployment to see what PortletDeployments it has in
it. The
other "something" class has to do with exactly one portlet.<br>
      </p>
--
information from portlet.xml file<br>
... has a
one-to-many relationship to:<br>
      <br>
PortletApplicationDefinition<br>
PortletDefinition<br>
-- this
knows about the Deployment AND has publish time preferences.<br>
      <br>
PortletApplicationEntity<br>
PortletEntity<br>
-- this
knows what the Definition knows and has an additional layer of
Preferences;
this provides something a user can subscribe to.<br>
      <br>
PortletWindow<br>
--
instances of portletEntity painted on the screen<br>
--
carries portletwindowstate<br>
&nbsp;&nbsp; [the window states are not persisted]<br>
&nbsp;<br>
      <br>
Then Ken
showed from the source what a PortletDefinitionTransferObject looks
like.<br>
&nbsp;<br>
The
registries (see previous session) can communicate with transfer objects
in
order to create, for example, PortletApplicationDefinitions.<br>
&nbsp;<br>
Then Ken
showed how the caching works; the caching implementation is loaded by a
TransferObject as called by the Registry. Right now they have a
rudimentary
custom caching implementation that is being written.<br>
&nbsp;<br>
Each
DomainObject can have a different caching implementation which is
specified in
the applicationContext.xml. There are some objects that have a
read-only
version, and also a read-write version (these would have "Control" on
end of class name) which also has set methods.<br>
&nbsp;<br>
JUnit
tests -- There is much more emphasis on unit testing in 3.0. All of
these are
in the tests directory. Ken wants someone to look at the tests as a
whole and
evaluate consistency and thoroughness. Some setup is required before
you can
use the tests, e.g. you have to create the database.<br>
&nbsp;<br>
The tests
are written against the interface, not the impl. Then there's a
configuration
file that says what implementation you are testing for this particular
run. If
you write a component of 3.0 you are expected to write a test for it.<br>
&nbsp;<br>
      <br>
      <a href="http://portals.apache.org/pluto/">Pluto</a>
Object Model implementation.<br>
&nbsp;<br>
We didn't
just want to code up uPortal 3.0 to use Pluto's interfaces. Maybe Pluto
will be
obsolete some day, something better, etc. So we wanted to be
independent
somehow.<br>
&nbsp;<br>
In order
to use Pluto, the implementations we provide must meeet Pluto's specs.
But we
don't want to be welded to that. So instead we wrote the classes the
way we
needed to, and made sure that the impl class <i>also</i> implements
pluto's
interfaces.<br>
&nbsp;<br>
How did
he make up names for all these new classes just for us? Peter
suggested:
"If the Pluto name has 'Portlet' in it, take it out, if it doesn't have
'Portlet' in it, put it in."<br>
&nbsp;<br>
      <br>
Dan: what
is the scope of the persistence effort? Have you thought yet about the
effects
on when you are writing e.g. publishing tools? There are locking issues
etc. it
would be better to think about this now rather than later.<br>
      <p>&nbsp;<br>
      </p>
      <h4>TUESDAY, August 31</h4>
      <h4><br>
      </h4>
      <h4>More About 3.0 -- Peter Kharchenko&nbsp; <br>
      </h4>
      <a href="./Peter_Kharchenko-Unicon.ppt">His PowerPoint slide</a>
(a diagram of the traditional context, with
annotations)
      <p>In 3.0 there can be more than one code flow (a 'rendering
context') for
creating the content of a subwindow<br>
&nbsp;<br>
e.g traditional one is<br>
      <br>
-- parameter processing; parses request URL syntax; initiates
actions on portletes, or rendering pipeline elements<br>
-- layout generator; generates initial user layout markup; aggregated,
and simple
layouts [aggregated layout code is not going to be rewritten at this
point, too
much else to get done]<br>
-- transformer; a chain of transformers and filters compiles
presentation markup
[See UserInstance.java]<br>
-- filter<br>
-- transformer<br>
-- serializer<br>
      <br>
      <br>
URL
command syntax can be customized by providing alternate processing and
URL
generation components.<br>
      <br>
The
'context resolver' chooses a rendering context for the user. The
default one will
use
something in the URL so you hit a different URL and you could get a
different
context.<br>
      <br>
Initially
we will implement a context that is more configurable but has the same
(above)
functionality of 2.x.<br>
      <br>
Why have
these contexts? Because there are various requirements of modifying the
rendering pipeline; this provides more flexibility.<br>
      <br>
For
example an error context could be just a more static page generated by
a
separate context.<br>
      <br>
One
person supposed that the context was a URL parameter, but Peter was
intending
that it would be the context path itself. Actually the resolver calls
everything else, and actually returns the rendered stuff, not just a
'use this
context' value.<br>
      <br>
      <br>
Peter showed context resolving code and an example configuration with a
"dummy" context. To configure contexts with appropriate scoping of
necessary support beans, as required by Spring-specific configuration
issues, multiple hierarchical Spring BeanFactories are used, and a
filesystem-like syntax is used to refer to different beans throughout
the bean factory hierarchy. After he showed the
simple case,
he then showed the 'CompoundContext' that handles more complicated
situations. </p>
      <p>SAXPipelineRenderer
is the main rendering class, with some XSLT steps after it. then Peter
showed
the configuration file of the rendering, which sets up
SAXPipelineRenderer. Enclosed
in it is a list of filters that are called in succession.<br>
      </p>
The
complexity of context configuration comes from the fact that there can
be
multiple components within contexts, which are capable of rendering
URLs.<br>
      <br>
      <br>
He segued
into discussing URL processing. URLInfo class utility class that allows
different constructors to work on the same URL. IURLConstructorProvider
this
allows components to provide objects for custom URL construction.<br>
      <br>
Peter was
asskd what he calls a 'pathElement' and a 'fileElement''<br>
      <br>
In a URL
the part that looks like a subdirectory path constitutes the path
elements. The
last part of the URL just before the question mark and parameters if
any, is a
'file' (Mark Boyd pointed out that's what the Java API docs call it)
and the
tokens of that file name are 'fileElements'.<br>
      <br>
Ken:
IURLController extends Pluto. Why? Peter: that is a Pluto-specific
class, not a
'JA-Sig only, portlet-engine-independent' class.<br>
      <br>
People
were puzzled by the 'URLIinfo' name of that class.<br>
      <br>
Ken: As
yet we don't have any 3.0 classes that represent a layout. Will we? The
layoutGenerator does not actually return a layout object, it does a lot
of SAX
processing.&nbsp; The IPortalRenderer
interface renders a request to a response. (during the talk Peter went
and
looked through the code to demonstrate that as yet they don't really
have a
'layout object')<br>
      <br>
      <br>
Ken:
What's the general status of this?<br>
      <br>
Peter:
The part that is not checked in is any caching in the layout pipeline
for 3.0.
This should be configurable. there is also a StringRenderer that is not
checked
in either; it will have be similarly configurable and also cacheable.<br>
      <br>
Ken: What
do we need to do to render a portlet? We need a PortletManager to call
the
portlets, and a filter to insert the returned stuff into the output
stream.
These don't exist yet.<br>
&nbsp;<br>
&nbsp;<br>
      <h4>Portlet Deployment -- Ken<br>
      </h4>
In 2.3 we
have a class that deploys a portlet via an Ant target. It assumes that
the
portlet is in a present war, and it rewrites web.xml with servlet
definitions and aliases that are needed to wrap the portlets.
But according to the spec, the deployment process is supposed to prompt
the
administrator for information. In 2.3 these are done from a config file
instead. How should we seriously do that part for 3.0? Should it be a
web
application? A Swing app? Command line interface? Ken says, most of the
time
you do want an automated process.<br>
&nbsp;<br>
Bill from
Rutgers: something like a PersonDirs.xml which was one thing Ken
mentioned. <br>
&nbsp;<br>
Mark
Boyd: It's something like a properties editor for a bean.<br>
&nbsp;<br>
There
wasn't a really strong feeling in any particular direction. Ken asked
if anyone
was interested in working on it. One of the people from Unicon(?) said
they had
someone back at the office specializing in deployment and they might be
interested in helping. Ken "I just want someone who can concentrate on
making this a good process."<br>
      <br>
&nbsp;<br>
      <p>morning
break<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <h4>Porting independent parts of the portal to 3.0 -- Ken</h4>
Some parts that we're trying to think of as more independent
parts of
uportal;
how do they port to 3.0?<br>
&nbsp;<br>
      <span style="font-style: italic;">Logging</span>
-- we wanted to use the logging package built into java 1.4 yet have it
configurable, so they chose <a
 href="http://jakarta.apache.org/commons/logging/">commons logging from
Apache</a> instead because
it
provides an abstraction layer. Should we configure it the old way or
use IoC?
They decided to use a LogFactory instead. (this will require adding one
line of
initialization per class). Ken will leave out any logging
implementation in the
quickstarts, so it will choose the java 1.4 logger by default. but you
can put
in log4j or whatever.<br>
      <br>
Pluto has
a logging interface you have to implement. We will probably pass the
same as
for the portal infrastructure.<br>
&nbsp;<br>
Mark
Boyd: We have a script that goes through source files and tinkers the
LogService calls to be commons logging instead. The buy-in is you can
have much
finer control over what parts of the code generate what level of
logging. Mark
and friends will do it. (but this will touch just about every source
file)<br>
      <p>&nbsp;</p>
      <span style="font-style: italic;">Security</span>
-- Should we use the same security pckage as in 2.3 and how to port it
over? Do
we want a separate security project and then use it from uportal? we
were
looking at <a href="http://acegisecurity.sourceforge.net/">Acegi
Security</a>[*]. it is similar to yale's security. you can put
security
around a class and its objects if you want. this allows much more
flexible
configuration. ken wants yale to participate in this decision becacuse
they
developed the original code.<br>
&nbsp;<br>
[* a
security framework that is written to work with Spring. Say
'ah-see-gee'. The
name is just every other letter of the alphabet; it doesn't stand for
anything.]<br>
&nbsp;<br>
Howard --
The original design was to provide credentials to various back end
processes --
to log on multiple times to multiple back end security systems. People
don't
seem to have used this capability. acegi would be external, better
documented,
etc. so Yale, for one, would support moving on.<br>
&nbsp;<br>
Bill from
Rutgers says they have been watching Acegi and think it's well designed
and
will fit in well with uPortal's new Spring design.<br>
&nbsp;<br>
Ken:
Andrew is coming to coding session the rest of the week; let's
experiment with Acegi.<br>
&nbsp;<br>
Eric: a)
allowing for any SecurityContext class to be configured. Currently no
way to
send parms in. He figured out a way to do it in the initializer class.
This
allows multiple LDAP servers to be used for security without multiple
java
sources. Andrew from Yale: why not put this in the factory for the
particular
kind of security? Eric: because how would the factory know which
instance of
the LDAP security it was creating? The initializer would know this so
it should
be done from there. Ken said to go ahead and do this. <br>
      <p>b) Why
should we have to read the security context properties from
portal.properties
every time someone logs in or out? Let's cache that.<br>
      </p>
      <br>
      <br>
      <span style="font-style: italic;">Groups and Permissions:</span>
Dan: in both groups and permissions, there is a) a runtime
functionality,
making queries b) provisioning activities. I think those two sets of
activities
need to be considered completely separately. Minimal for b) is to wrap
groups
manager and permissions manager, as they are, for 3.0. Biggest concern
for a)
is configuring the consolidated groups and permissions. How do we
package these
two services for runtime use?<br>
&nbsp;<br>
Mark Boyd
mentioned a requirement: at SCT in AggregatedLayoutManager they
have
their own configuration that has more complex boolean logic for
permissions.
Would it be possible to make the fragment and channel permissions
pluggable and
allow differing policies depending on what you are inquiring about?<br>
&nbsp;<br>
Dan
pointed out that there is already a 'permissions policy'&nbsp;
which is selectable on the properties-file
level but could be more dynamically selected.<br>
&nbsp;<br>
At what
level do we want to make it pluggable?<br>
-- a
group service itself?<br>
-- a
group store?<br>
-- an
authorization (permissions) service?<br>
-- an
authorization store?<br>
-- a
composite authorization store has been suggested but never done<br>
      <p>Ken: Do
we want a groups thing to be a server? a jar? source that's mixed in
like in
2.x? People don't want the latter option.<br>
      </p>
Mark from
Sakai: Sakai is discussing this very issue with respect to their own
code, and
it will probably be based on O.K.I.. He wrote the proposed API
yesterday.<br>
&nbsp;<br>
Ken: Make
a groups module parallel to up3.uportal in the sandbox (e.g.
up3.groups). Get
Dan to move his code into that, and put a jar into the portal libs to
use it.
Dan: Agreed, also make one for authorization. Ken: The tricky thing
will be to
configure database access. Dan suggests still having the groups tables
in the
portal database. Ken: Yes, but have a separate database config for it.<br>
&nbsp;<br>
Jim: The
database for authentication and authorization should be completely
separate,
for sociological reasons.<br>
      <br>
      <p><br>
LUNCH
BREAK<br>
      </p>
&nbsp;<br>
      <h4>Error Handling: Andrew Petro, Yale<br>
      </h4>
      <a href="./Andrew_Petro-Yale.ppt">His PowerPoint presentation</a>
(much of the notes below are from this)
      <p> What reporting is desired?<br>
How are we presently doing this?<br>
      </p>
      <p>How might it be done better?<br>
      </p>
Errors and exceptions in a server are different -- you can't just bomb,
you
need to handle it and recover.<br>
      <br>
For example, Yale had a "yesterday's weather" situation, involving
DocumentCacher and the Weather Channel. If it's pouring rain outside
one does not want to be saying that it's partly sunny.<br>
&nbsp;<br>
Could we
look inside a running portal and see what's been amiss lately? At Yale
they
have a /problems servlet that shows a page of recent errors and you can
click
and see the stack trace etc.<br>
      <br>
How
should we do it in portal?<br>
&nbsp;<br>
-- logging,
certainly<br>
-- component-level reporting (proposed PropertiesManager e.g.)<br>
-- failure-response components e.g. CError channel<br>
-- and the dirty trick;<br>
      <p>instantiating
PortalException -- make it have the side effect of REPORTING the
exception at
that moment to the ProblemsManager. So even if the developer is not
conscientious enough to handle or report it properly, you get a record
anyway.<br>
      </p>
      <p>&nbsp;<br>
      </p>
Currently
(for 2.x in Yale's code):<br>
&nbsp;<br>
-- create
an UndeclaredPortalException<br>
      <p>instances
have ErrorID which are keyed to the messsage<br>
      </p>
-- Custom
Exceptions<br>
&nbsp;<br>
As
convenience implementations of the necessary calls to
UndeclaredPortalException <br>
&nbsp;<br>
(Undeclared)PortalExceptions
have a logging flag to help ProblemsManager decide what/how to report
about
them.<br>
      <p>&nbsp;<br>
      </p>
Going
Forward<br>
&nbsp;<br>
ProblemsManager
should have been behind an interface, to allow multiple custom
implementations.<br>
&nbsp;<br>
Revisit
the ErrorID's<br>
-- key to
categorization<br>
-- key to
parameterized message<br>
      <br>
1:1
mappings: <br>
-- messages
to ErrorIDs<br>
-- Exceptions to ErrorIDs<br>
      <br>
Convenience
implementation pattern and ErrorIDs.<br>
&nbsp; <br>
      <br>
Alternatively<br>
&nbsp;<br>
ErrorID
roles can be fulfilled by the fully qualified name of the
IPortalException
implementing class.<br>
-- key to
categorization<br>
-- key to
templated message<br>
&nbsp;<br>
Where is
the value in doing this?<br>
&nbsp;<br>
The value
of it is the custom Exception class, with its own documentation.<br>
and in templating and I18ning the Exception messages.<br>
      <br>
      <br>
Howard:
wanted to point out the key issue. He objected to the concept "a string
value shall be a parameter to the Exception class" [that is, the
message
string]. This was the only way to differentiate PortalExceptions. He
wanted to
use an ErrorID value because it's more convenient to write. The Java,
stricter
object oriented way would be to create a lot of different classes.
Retrospectively, this was the chief objection people had to Yale's
proposal. So
Howard is willing to concede that point and let the design use lots of
different classes to differentiate the PortalExceptions, so that the
error
handling issue can be addressed in the shared code. However, these
classes must
not be allowed to send in a message, only the parameters to that
message.
Because the main text of the message needs to be either built into the
class or
read (I18n) from a properties file.<br>
&nbsp;<br>
General
comment: Don't forget to allow a Cause parameter if some other
exception caused
'this one'.<br>
      <p>&nbsp;<br>
      </p>
So, for
uportal3 (this is not implemented yet):<br>
&nbsp;<br>
Lose the
ErrorIDs<br>
      <p>There
will be a uPortal exception class hierarchy based on PortalException
and
UndeclaredPortalException<br>
      </p>
      <p>Custom
exceptions know how to obtain (from Spring?) their template message and
merge
in their parameters<br>
      </p>
      <p>Exceptions
report themselves on instantiation to an IProblemsManager
implementation.<br>
      </p>
      <br>
In Java
you can't 'catch' an interface, but after you catch 'Exception' or
'Throwable'
then you can then look at whether you got an instance of
IPortalException.<br>
      <br>
Bill from
Rutgers: A cleaner way is to use an <a
 href="http://www.springframework.org/docs/reference/aop.html">AOP
throw advisor</a>, which happens
without
any mods of the exception classes themselves. [the above link goes to
the doc page for the AOP support in Spring]<br>
&nbsp;<br>
Andrew:
But the PortalException and UndeclaredPortalException constructors are
the only
places where we need to change the code.<br>
&nbsp;<br>
Mark
Boyd: but if we use AOP it will advise even non-portal exceptions and
you can
report them the same way.<br>
&nbsp;<br>
Ken:
Check it in for 3.0 [well Yale hasn't done it yet]<br>
&nbsp;<br>
      <br>
General
comment: what about putting some of this in 2.4? <br>
&nbsp;<br>
After
some discussion, it was decided to change the instantiation of the two
base
classes to call the ProblemsManager, in 2.4. and leave alone the
specific
exception clauses scattered throughout the code base.<br>
&nbsp;<br>
Peter:
It's important to plan the hierarchy of classes for 3.0, carefully, so
people
create them properly and it won't have to be corrected later.<br>
&nbsp;<br>
Dan: How
would I make these things? (for groups and permissions) [Answer: make
one (or
two, declared and undeclared) derived exception for your component of
the code,
and then derive a bunch of more specific exceptions from that as needed]<br>
&nbsp;<br>
Ken: How
to decide which kind of exception to throw? For example, our DAO
implementations don't throw declared exceptions but the interfaces do.
When do
we declare and when don't we?<br>
&nbsp;<br>
Howard:
You should not throw an undeclared portal exception if you EXPECT the
immediate
caller to catch and handle it ("we're going to retry this individual
thing, okay caller, go to plan B."). The undeclared ones are those
which
you expect to be tossed up to a GENERIC exception handling clause ("it
makes no sense to retry this individual thing, we have to give up the
whole
operation").<br>
&nbsp;<br>
Howard:
When you are writing code in <a href="http://www.eclipse.org/">Eclipse</a>
and it asks you: you didn't handle
this
exception do you want to catch it here or reethrow it? if it's a
declared
exception you should catch it.<br>
&nbsp;<br>
[there
was further discussion of this distinction]<br>
&nbsp;<br>
Peter:
Whenever we DO declare an exception we should document how we expect
the caller
to handle it.<br>
      <p><br>
      <br>
      </p>
      <h4>Upgrade Tools -- Al Wold</h4>
      <h4></h4>
upgrade21.xml
-- upgrades 2.1 to 2.3, will probably work in 2.4<br>
&nbsp;<br>
One task
is upgradedb. It passes to DbLoader what your current database version
is.<br>
&nbsp;<br>
In the
data.xml and tables.xml, now there are version numbers on the
&lt;table&gt;
&lt;column&gt; and &lt;row&gt; elements as attributes. The upgrader
uses these
numbers to decide what to add to the existing tables.<br>
&nbsp;<br>
Originally
Al decided to switch to pushfragments and he would wipe out the
existing
templates. Then he decided to use brand-new templates instead. So the
"convertprofiles" target wipes people's templates except for
bookmarks and other shared data. it changes everybody's theme and
structure
stylesheets. This destroys people's existing layouts.<br>
&nbsp;<br>
For
existing rows in a table which has added a new column, there will be
null in
that column. New rows wiil get a new value in that new row.<br>
&nbsp;<br>
Ken: I
wrote a class that returns the portal version number, starting with 2.4.<br>
&nbsp;<br>
Mark
Boyd: I wrote a version manager that can keep track of versions of the
portal
itself, and of for example channels. It stores these things in a
database
table.<br>
&nbsp;<br>
John
Fereira: You said that you copy the database manually first then alter
the
copy. Since we have those version numbers in the XML, could you do this
after
dbunload instead, changing the xml file? The reaction was 'this would
be an
enormous file and take a really long time'<br>
      <p>&nbsp;<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <p>AFTERNOON
BREAK<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <h4>Documentation -- John Fereira<br>
      </h4>
      <p>Ken: doc
is one of our weakest points<br>
      </p>
John: the
current doc page tries to document every version at once. For 3.0 why
not start
a new page that documents only that version.<br>
&nbsp;<br>
I tried
to categorize documentation by what kind of user was looking for it.
There are
now a number of documents that cross these boundaries. Can we continue
to do
this? Should this be an emphasis on how the new docs are written? In
general
there should exist documentation on any new features.<br>
&nbsp;<br>
Ken:
there does exist documentation for some things that we never got on our
own
pages.<br>
&nbsp;<br>
John: I
put on pointers to some docs that live elsewhere. Lots of mailing list
questions could be answered by sending someone to the right docs.<br>
&nbsp;<br>
I created
a docs directory in the sandbox.<br>
&nbsp;<br>
On the
train ride here I experimented with the look of the documentation of
the
portal. I used the portal icons and stylesheet to make it resemble the
portal
even though it is static.<br>
&nbsp;<br>
In <a href="http://www.mozilla.org/products/mozilla1.x/">Mozilla</a>
there is a separate project for its documentation.<br>
&nbsp;<br>
I didn't
want to put restrictions on how people wrote docs. doc, pdf, html,
whatever.<br>
&nbsp;<br>
Ken: I
don't want much non-javadoc docs in the source tree.<br>
&nbsp;<br>
John:
maybe put them in a separate zip for each release.<br>
&nbsp;<br>
Ken:
Maybe we could use <a href="http://maven.apache.org/">Maven</a> to
help us build a better doc site. I don't
think it's
time yet to use it for any portal source projects.<br>
&nbsp;<br>
A
question: should we have a Wiki?<br>
&nbsp;<br>
Ken:
Yeah, why doesn't somebody put one up?<br>
&nbsp;<br>
Bill from
Rutgers: Maven is good for keeping consistency across multiple
projects. But
for one project that benefit doesn't apply.<br>
&nbsp;<br>
Dave: I build uPortal under Maven.<br>
&nbsp;<br>
      <br>
r.smart:
When he downloaded Sakai it downloaded many versions of some of the
jars.<br>
      <p>&nbsp;<br>
      </p>
      <p>&nbsp;<br>
      </p>
      <h4>Proposal for 2.4 by Mark Boyd</h4>
Enhancements to channel archives.<br>
&nbsp;<br>
In the channel archive deployment descriptor you can put in a
&lt;database&gt;
element to do dbloading things, and a &lt;channel-definition&gt;
element. he
has a &lt;processIf&gt; -- for example if the channel is already there
but is
an earlier version, you can upgrade existing channel definition and
change
the appropriate database table(s). <br>
      <p>&nbsp;<br>
      </p>
      <p><br>
      </p>
      <h4>Things for 2.4, 3.0, and wrapup -- Ken Weiner<br>
      </h4>
What things are going in to 2.4?<br>
      <br>
Andrew Petro: -- exception handling [relatively small change]<br>
      <p>Freddy Lopez's (rutgers) bug fixes [as mentioned on the
mailing list]<br>
      </p>
      <p>Mark Boyd: changes to channel archives [see his brief talk
above]<br>
      </p>
      <p>Mods to security properties to have configurable properties<br>
      </p>
      <p>Don't parse the security context configuration every time,
cache it.<br>
      </p>
      <p>&nbsp;<br>
      </p>
could do a new release within the next 2 or 3 weeks.<br>
      <p>&nbsp;<br>
      </p>
      <p>Yale and Rutgers: both are experiencing some memory growth
issues with 2.3.3 in production<br>
      </p>
Howard: this seems more like a loop than a leak.<br>
      <p>&nbsp;<br>
      </p>
Ken: This release is called 2.4 rather than 2.3.5 because it
has a few new features; however that doesn't mean it will be difficult
to upgrade -- there will be very little change in the database.<br>
&nbsp;<br>
There will also be a 2.3.5
which will be the last patches for 2.3 and it will come out the same
time as 2.4.<br>
      <p>&nbsp;<br>
      </p>
      <p>3.0 should come out sometime next calendar year.<br>
      </p>
&nbsp;<br>
Someone asked 'what's the earliest date before which 3.0 definitely
could not come out.'
The point is how can we decide whether to go to 2.4 or wait until
adoption. <br>
      <p>Ken:
We're definitely less than halfway. He wants to have a genuine alpha
and beta
this time, without the upgrade aspect of it, then do a
production-quality
release with everything that was promised.<br>
      </p>
He asked, what do you want developers to keep in mind while 3.0 is
developed so they
don't become show stoppers later?<br>
      <br>
Dan: thinking of an enhancement to groups and permissions design, with
specific
built-in modeling for template permissions. To reduce the number of
group and
permission objects that have to be created in a medium to large scale
site.<br>
      <br>
      <br>
      <br>
Ken: Any comments on how this meeting is run. is this the best way to
do it?
There was agreement that given the current size it is not yet necessary
to split
the agenda into more than one track.<br>
      <br>
At the last JA-Sig conference we had a meeting about the community
process and
how it's gone about. So that newcomers will know how we operate. &nbsp;
Bill Thompson was chosen to write up how it is done.<br>
      <br>
Ken: Maybe this can be more effectively written by a new person,
because
they'll know what the questions are. [a newcomer present volunteered to
do that]<br>
      <br>
Next meeting will be somewhere around February, on the west coast or on
the
extremely west coast.<br>
      <br>
Howard: [when choosing a developer meeting location] give some priority
to decent
coffee.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
</body>
</html>
