<?xml version="1.0" encoding="iso-8859-1"?>

<!-- Author:   John Fereira  jaf30@cornell.edu               -->
<!-- Filename: build.xml                                     -->
<!-- Version:  $Revision$                              -->
<!-- Copyright: (c)2000, JA-SIG Collaborative                -->
<!-- Purpose:  Build file for Ant 1.4.1, makes the uPortal   -->
<!--           documentation website                         -->
<!-- $Id$  --> 

<project name="uPortaldocs" default="deploy" basedir=".">

  <!-- Load user property definition overrides from the uPortal 
  build directory properties file 
  -->

  <property file="../build.properties"/>
  <property file="${user.home}/build.properties"/>

  <!-- set global properties for this build -->
  <property name="app.name" value="uPortal" />
  <property name="app.version" value="2.1" />
  <property name="build.home" value="build" />

<!--
  Set this property to the uPortal deployment home (deploy.home) or
  to a directory accessible from a web server.  For example, to deploy
  the documentation to an Apache server web site, set doc.deploy.home to
  something like: /usr/local/apache/html/uportal
  The docs subdirectoy will be appended to the doc.deploy.home property.
  By default, the documentation deploys into the uPortal servlet context.
-->

  <property name="doc.deploy.home"   value="${deploy.home}"/>

<!--  Targets -->

  <target name="clean" >
    <!-- Delete the generated files. -->
    <delete dir="${build.home}"/>
  </target>

  <!-- prepare -->
  <target name="prepare" >

    <!-- Create build directory and copy static content -->
    <mkdir  dir="${build.home}"/>
    <copy todir="${build.home}">
      <fileset dir="website"/>
    </copy>

  </target>
  <!-- deploy -->
  <target name="deploy" depends="prepare">
    <mkdir  dir="${doc.deploy.home}/docs"/>
    <copy todir="${doc.deploy.home}/docs">
      <fileset dir="${build.home}"/>
    </copy>
  </target>
</project>
